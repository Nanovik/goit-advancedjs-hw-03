{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_CAT_URL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] = 'live_6iszEu0HGJyNDekAh2eos6NLSxYhE1QF7jDLVnvxOesTafDnceCG7sCK3Tp8c5hd';\n\nfunction fetchBreeds() {\n    return fetch(`${API_CAT_URL}/breeds`, {\n        headers: {'x-api-key': axios.defaults.headers.common['x-api-key'],},\n    })\n    .then(response => {\n        if (!response.ok) {throw new Error(response.status);}\n        return response.json();\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n    return fetch(`${API_CAT_URL}/images/search?breed_ids=${breedId}`, {\n        headers: {'x-api-key': axios.defaults.headers.common['x-api-key'],},\n    }).then(response => {\n    if (!response.ok) {throw new Error(response.status);}\n        return response.json();\n    });\n}\n\nexport { fetchBreeds, fetchCatByBreed };","// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import SlimSelect from 'slim-select';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectEl = document.querySelector('.breed-select');\nconst catContainer = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nselectEl.hidden = true;\nloader.classList.add('utilites-js');\n\nfetchBreeds()\n  .then(cats => renderSelectOption(cats))\n  .catch(errorSystem => {\n    loader.classList.add('utilites-js');\n    error.classList.remove('utilites-js');\n    console.log(errorSystem);\n  });\n\nfunction renderSelectOption(cats) {\n  const markup = cats\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n\n  selectEl.insertAdjacentHTML('beforeend', markup);\n  selectEl.hidden = false;\n  loader.classList.add('utilites-js');\n}\n\nfunction renderCatContainer(cat) {\n  catContainer.classList.remove('utilites-js');\n\n  const markup = cat\n    .map(\n      ({\n        breeds,\n        url,\n      }) => `<img src=\"${url}\" alt=\"cat\" class=\"cat-img\" width=\"300\">\n      <div class=\"cat-text-container\">\n       <h1 class=\"cat-title\">${breeds[0].name}</h1>\n       <p class=\"cat-text\">${breeds[0].description}</p>\n       <p class=\"cat-temperament\"><span class=\"accent\">Temperament:</span> ${breeds[0].temperament}.</p>\n       </div>\n     `\n    )\n    .join('');\n\n  catContainer.innerHTML = markup;\n  loader.classList.add('utilites-js');\n}\n\nselectEl.addEventListener('change', onSelectChange);\n\nfunction onSelectChange(event) {\n  loader.classList.remove('utilites-js');\n  catContainer.classList.add('utilites-js');\n  error.hidden = true;\n\n  const id = event.target.value;\n\n  fetchCatByBreed(id)\n    .then(cat => {\n      if (!cat.length) {\n        throw new Error();\n      }\n      return renderCatContainer(cat);\n    })\n    .catch(errorSystem => {\n      loader.classList.add('utilites-js');\n      error.hidden = false;\n      console.log(errorSystem);\n    });\n}"],"names":["API_CAT_URL","axios","fetchBreeds","response","fetchCatByBreed","breedId","selectEl","catContainer","loader","error","cats","renderSelectOption","errorSystem","markup","id","name","renderCatContainer","cat","breeds","url","onSelectChange","event"],"mappings":"svBAEA,MAAMA,EAAc,+BACpBC,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAE7C,SAASC,GAAc,CACnB,OAAO,MAAM,GAAGF,WAAsB,CAClC,QAAS,CAAC,YAAaC,EAAM,SAAS,QAAQ,OAAO,YAAc,CAC3E,CAAK,EACA,KAAKE,GAAY,CACd,GAAI,CAACA,EAAS,GAAK,MAAM,IAAI,MAAMA,EAAS,MAAM,EAClD,OAAOA,EAAS,MACxB,CAAK,CACL,CAEA,SAASC,EAAgBC,EAAS,CAC9B,OAAO,MAAM,GAAGL,6BAAuCK,IAAW,CAC9D,QAAS,CAAC,YAAaJ,EAAM,SAAS,QAAQ,OAAO,YAAc,CAC3E,CAAK,EAAE,KAAKE,GAAY,CACpB,GAAI,CAACA,EAAS,GAAK,MAAM,IAAI,MAAMA,EAAS,MAAM,EAC9C,OAAOA,EAAS,MACxB,CAAK,CACL,CCjBA,MAAMG,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAe,SAAS,cAAc,WAAW,EACjDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,QAAQ,EAE7CH,EAAS,OAAS,GAClBE,EAAO,UAAU,IAAI,aAAa,EAElCN,EAAa,EACV,KAAKQ,GAAQC,EAAmBD,CAAI,CAAC,EACrC,MAAME,GAAe,CACpBJ,EAAO,UAAU,IAAI,aAAa,EAClCC,EAAM,UAAU,OAAO,aAAa,EACpC,QAAQ,IAAIG,CAAW,CAC3B,CAAG,EAEH,SAASD,EAAmBD,EAAM,CAChC,MAAMG,EAASH,EACZ,IAAI,CAAC,CAAE,GAAAI,EAAI,KAAAC,KAAW,kBAAkBD,MAAOC,YAAe,EAC9D,KAAK,EAAE,EAEVT,EAAS,mBAAmB,YAAaO,CAAM,EAC/CP,EAAS,OAAS,GAClBE,EAAO,UAAU,IAAI,aAAa,CACpC,CAEA,SAASQ,EAAmBC,EAAK,CAC/BV,EAAa,UAAU,OAAO,aAAa,EAE3C,MAAMM,EAASI,EACZ,IACC,CAAC,CACC,OAAAC,EACA,IAAAC,CACR,IAAY,aAAaA;AAAA;AAAA,+BAEMD,EAAO,GAAG;AAAA,6BACZA,EAAO,GAAG;AAAA,6EACsCA,EAAO,GAAG;AAAA;AAAA,MAGlF,EACA,KAAK,EAAE,EAEVX,EAAa,UAAYM,EACzBL,EAAO,UAAU,IAAI,aAAa,CACpC,CAEAF,EAAS,iBAAiB,SAAUc,CAAc,EAElD,SAASA,EAAeC,EAAO,CAC7Bb,EAAO,UAAU,OAAO,aAAa,EACrCD,EAAa,UAAU,IAAI,aAAa,EACxCE,EAAM,OAAS,GAEf,MAAMK,EAAKO,EAAM,OAAO,MAExBjB,EAAgBU,CAAE,EACf,KAAKG,GAAO,CACX,GAAI,CAACA,EAAI,OACP,MAAM,IAAI,MAEZ,OAAOD,EAAmBC,CAAG,CACnC,CAAK,EACA,MAAML,GAAe,CACpBJ,EAAO,UAAU,IAAI,aAAa,EAClCC,EAAM,OAAS,GACf,QAAQ,IAAIG,CAAW,CAC7B,CAAK,CACL"}